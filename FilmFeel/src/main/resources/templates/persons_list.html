<!DOCTYPE html>
<html lang="es"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>FilmFeel</title>

    <div th:insert="fragments/_resources :: _head_resources"></div>
    <link rel="stylesheet" th:href="@{/styles.css}">
    <style>
        form .invalid-feedback{
        display: block
        }
    </style>
</head>
<body>


<nav th:replace="fragments/_fragments :: nav_bar"></nav>

<div class="container mt-4">
    <h2>Personas</h2>

    <div class="text-end ">
        <a href="/personas/nueva-persona" class="btn btn-info mb-3">Nueva persona</a>

    </div>
</div>


<div class="container mt-5" id="personas-section">
    <h1>Film adictos</h1>


    <link rel="stylesheet" href="path/to/styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css">

    <div class="scroll-container">
        <div class="d-flex flex-row">
            <div class="card persons-card" th:each="person : ${persons}" th:object="${person}">
                <div class="card-body">
                    <h5 class="card-title-person" th:text=" ${person.name} + ' ' + ${person.surname}"></h5>
                    <p class="card-text mb-3" th:text=" ${person.typePerson}"></p>
                    <form th:action="@{/personas/{id}(id=${person.id})}" method="post" class="d-inline">
                        <input type="hidden" name="_method" value="delete"/>
                        <button type="submit" class="persons-button btn btn-warning mb-3">Eliminar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <h1>Actores</h1>
    <div class="scroll-container">
        <div class="d-flex flex-row">
            <div class="card persons-card" th:each="actor : ${actors}" th:object="${person}">
                <div class="card-body">
                    <h5 class="card-title-person" th:text=" ${actor.name} + ' ' + ${actor.surname}"></h5>

                </div>
            </div>
        </div>
    </div>
    <h1>Directores</h1>
    <div class="scroll-container">
        <div class="d-flex flex-row">
            <div class="card persons-card" th:each="director : ${directors}" th:object="${person}">
                <div class="card-body">
                    <h5 class="card-title-person" th:text=" ${director.name} + ' ' + ${director.surname}"></h5>

                </div>
            </div>
        </div>
    </div>
    <h1>Músicos</h1>
    <div class="scroll-container">
        <div class="d-flex flex-row">
            <div class="card persons-card" th:each="musician : ${musicians}" th:object="${person}">
                <div class="card-body">
                    <h5 class="card-title-person" th:text=" ${musician.name} + ' ' + ${musician.surname}"></h5>

                </div>
            </div>
        </div>
    </div>
    <h1>Guionistas</h1>
    <div class="scroll-container">
        <div class="d-flex flex-row">
            <div class="card persons-card" th:each="scriptwriter : ${scriptwriters}" th:object="${person}">
                <div class="card-body">
                    <h5 class="card-title-person" th:text=" ${scriptwriter.name} + ' ' + ${scriptwriter.surname}"></h5>

                </div>
            </div>
        </div>
    </div>
    <h1>Fotógrafos</h1>
    <div class="scroll-container">
        <div class="d-flex flex-row">
            <div class="card persons-card" th:each="photographer : ${photographers}" th:object="${person}">
                <div class="card-body">
                    <h5 class="card-title-person" th:text=" ${photographer.name} + ' ' + ${photographer.surname}"></h5>

                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.min.js"></script>


    <a th:href="@{/}" class="btn btn-success mt-4 me-2 mb-4 ">Volver a inicio</a>
    <a th:href="@{/personas}" class="btn btn-info mt-4 mb-4">Personas</a>
</div>


<div th:insert="fragments/_resources :: _foot_resources"></div>
<script>
    $(document).ready(function() {
        $('.select2').select2();
    });

</script>

<div layout:fragment="scripts" th:remove="tag"></div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Simulación del estado de sesión. Cambia esto según tu lógica de autenticación.
        var userLoggedIn = true; // Cambia a false para simular usuario desconectado.

        if (userLoggedIn) {
            document.getElementById("userLoggedIn").style.display = "inline";
            document.getElementById("userLoggedOut").style.display = "none";
        } else {
            document.getElementById("userLoggedIn").style.display = "none";
            document.getElementById("userLoggedOut").style.display = "inline";
        }
    });
</script>
<footer th:replace="fragments/_fragments :: _footer"></footer>
</body>
</html>


