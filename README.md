*This README is avaliable in [Espa√±ol](#version-espa√±ol) 

**[LIVE DEMO]**  
Try the application: [https://filmfeel.onrender.com ](https://filmfeel-web.onrender.com) 
*Note: this application is currently under development and not yet optimized for mobile devices. Improvements are in progress to enhance the mobile experience.*


# FilmFeel Web Application (In Development)

> **Note**: *This application is currently under active development,  some features may still be in progress and occasional errors might occur. Continuous improvements are being made to increase stability and add new functionalities.

## 1. Description

FilmFeel is a web application developed in Java using Spring Boot that allows users to collaboratively and interactively manage a movie catalog.

Users can:

- **Register new films** with title, synopsis, release year, duration, and poster image.

- **Link film professionals** to each movie, including actors, directors, cinematographers, screenwriters, and composers ‚Äî all of whom are also stored in the system.

- **Submit ratings** (from 1 to 5 stars) and write personal reviews for each movie.

- **Authenticate and authorize users with JWT-based security**, supporting distinct roles (USER and ADMIN).

- **View web pages** rendered through **Thymeleaf**.


## 2. Keys Features

### üé¨ Film management

- **Complete CRUD operations** for films, available to authorized users.
- **Attributes** include: title, synopsis, release year, duration, and poster (stored locally).
- **Linking film professionals** (actors, musicians, cinematographers, screenwriters, directors) to each movie.
- **Detailed movie pages** showing cast, crew, reviews, and ratings.

---

### üßë‚Äçüíº Authentication and Authorization System

- Login and registration using **JWT tokens**.
- Security powered by **Spring Security**.
- Two roles:
  - `USER`: can rate and review films.
  - `ADMIN`: full system access, including permission to register new administrators.

---

### üåê REST API with JWT Security

- **Protected endpoints** using JWT (`/auth/**`, `/api/**`).
- **User registration and login** via JSON requests.
- **REST endpoints** to submit and access film reviews.

---

### üí¨ Reviews and Ratings System

- Each user can submit **only one review and one rating per film**.
- **Reviews managed via REST API** and displayed in the web interface.
- **Average rating** automatically calculated and displayed per film.
- **Validation layer** prevents duplicates and handles errors with custom exceptions `@ExceptionHandler`.

---

### üñ•Ô∏è Dynamic Web Interface (MVC)

- Responsive design with **Bootstrap 5.1.3** and **Thymeleaf templates**.
- **Role-based view protection** using `sec:authorize`.
- **Navigation structure** includes home, login, registration, movie list, new movie form, add person, etc.
- **Upload and display of images** (poster images and avatars) from local storage.

---

### üîê Technical Configuration and Security

- **Custom filters** using `JwtValidator` to verify tokens per request.
- Segmented `SecurityFilterChain` based on context paths (`/auth`, `/api`, `/admin`, etc.).
- **Password encryption** with `BCryptPasswordEncoder`.
- **Custom logging** for traceability and debugging.

---

### üìñ Interactive API Documentation with Swagger

- **Automatically generated documentation** via **OpenAPI**.
- **Swagger UI panel** to test endpoints and inspect data models.

üîó **Access Swagger UI**: [http://localhost:8080/doc/swagger-ui.html](http://localhost:8080/doc/swagger-ui.html)

---


## 3. Technologies and Dependencies

- Java 17
- Spring Boot 3
- Spring Security + JWT
- Spring Data JPA + Hibernate
- Spring MVC + Thymeleaf
- Spring Batch
- H2 (dev) / MySQL (producci√≥n)
- Swagger / OpenAPI
- Bootstrap 5.1.3
- ModelMapper
- Lombok

### üìÇ Project Structure

```plaintext
filmfeel/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/com/filmfeel/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FilmFeelApplication.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ application.properties
‚îî‚îÄ‚îÄ pom.xml
```

---

## 4. üîó  Main Endpoints

üé• **Films** (`/peliculas`)

| M√©thod | Path                              | Description                                 |
|--------|-----------------------------------|---------------------------------------------|
| GET    | `/peliculas`                      | List all films  (paginated view)        |
| GET    | `/peliculas/nueva-pelicula`       | Form to create new film     |
| POST   | `/peliculas/nueva-pelicula`       | Submit and save a new film                    |
| GET    | `/peliculas/{id}`                 | view film details                         |
| GET    | `/peliculas/{id}/editar`          | Form to edit an existing film          |
| POST   | `/peliculas/{id}/editar`          | Save film updates             |
| POST   | `/peliculas/{id}/eliminar`        | Delete film                         |

üë§ **People** (`/personas`)

| Method | Path                           | Description                          |
|--------|---------------------------------|--------------------------------------|
| GET    | `/personas`                     | List all registered people                  |
| GET    | `/personas/nueva-persona`       | Form to register a new person      |
| POST   | `/personas/nueva-persona`       | Submit and save a new person                |
| POST   | `/personas/{id}`                | Delete a person by ID             |

üí¨ **Reviews** (`/reviews`)

| M√©thod | Path                            | Description                     |
|--------|---------------------------------|---------------------------------|
| POST   | `/reviews/submit/{filmId}`      | Submit a film review      |
| POST   | `/reviews/{id}`                 | Delete a review                |

‚≠ê **Rating** (`/scores`)

| Method | Path                              | Description                        |
|--------|-----------------------------------|-------------------------------------|
| POST   | `/scores/submit/{filmId}`         | Submit a score for a film                  |
| GET    | `/scores/average/{filmId}`        | Get average score     |
| POST   | `/scores/{id}`                    | Delete a score                |

üîê **Autentication**

| Method | Path              | Description                          |
|--------|-------------------|--------------------------------------|
| GET    | `/login`          | Login form       |
| GET    | `/registro`       | Registration form    |
| POST   | `/registro`       | Submit new user       |



## 5. üß© Features Under Development


The application is under active development, and several key features are still to be implemented such as:

- üîÅ **Spring Batch**
  Daily migration of newly added films to a CSV file, with listeners (`JobExecutionListener`, `ItemWriteListener`) and migration tracking.

- üìä **Detailed logging system**  
  Execution traces to monitor key processes.

- ‚ùó **Improved custom error page**  
  Integration of `error.html` for user-friendly handling of exceptions (404, 500...).

- ‚ö° **Visual and performance improvements**  
  Optimization of views, image handling, and overall performance.




## 6. üöÄ Installation

1. Clone repository from GitHub:
```bash
git clone https://github.com/AleNaveira/filmfeel-web.git
```

2. Open project in your IDE (e.g., IntelliJ o Eclipse).

3. Run `FilmFeelApplication.java`

4. Access: 
   `http://localhost:8080`

## 7. üõ°Ô∏è Architecture and Development Standards

- Layered architecture: controllers, services, repositories, and entities.
- Data validation in forms and DTOs (`@Valid`, `BindingResult`).
- Secure password handling using `BCryptPasswordEncoder`.
- Role-based access control (USER and ADMIN) with Spring Security and JWT.
- Secure route protection in Thymeleaf views using `sec:authorize`.
- Interactive REST API documentation with Swagger/OpenAPI.
- Custom error handling and validation with `@ExceptionHandler`.
- Secure and dynamic file storage (images) on the local server.
- Use of DTOs and ModelMapper to separate domain entities from presentation layers.
- RESTful architectural practices in API endpoints.
- Organized and environment-specific `application.properties` configuration.
- Prepared for production database usage (MySQL).



------------




## Versi√≥n en espa√±ol

**[LIVE DEMO]**  
Prueba la aplicaci√≥n: https://filmfeel.onrender.com  
*Nota: la aplicaci√≥n a√∫n no est√° optimizada para dispositivos m√≥viles. Se est√°n realizando ajustes para mejorar su visualizaci√≥n.*


# FilmFeel aplicaci√≥n web (en desarrollo)

> **Nota**: *Esta aplicaci√≥n web est√° actualmente en una fase de desarrollo, por lo que algunas funcionalidades pueden estar en proceso de ajuste y es posible que se presente alg√∫n error. Se est√°n realizando mejoras de forma continua para aumentar la estabilidad y a√±adir nuevas caracter√≠sticas.

**Tabla de contenidos**

[TOCM]

[TOC]


## 1. Descripci√≥n

FilmFeel es una aplicaci√≥n web desarrollada en Java con Spring Boot que permite a los usuarios gestionar un cat√°logo cinematogr√°fico de forma colaborativa e interactiva.

Los usuarios pueden:

- **Registrar nuevas pel√≠culas** con  t√≠tulo, sinopsis, a√±o de estreno, duraci√≥n y portada.

-** Asociar personas del mundo del cine** a cada pel√≠cula: actores, directores, fot√≥grafos, guionistas y m√∫sicos, quienes tambi√©n se registran en el sistema.

- **Dejar puntuaciones** (de 1 a 5 estrellas) y escribir rese√±as personales 

- **Acceder a un sistema de autenticaci√≥n y autorizaci√≥n con JWT**, con roles diferenciados (USER y ADMIN).

-** Visualizar las vistas web mediante Thymeleaf**

- Explorar la documentaci√≥n interactiva de la API a trav√©s de **Swagger UI**.



## 2. Caracter√≠sticas principales

### üé¨ Gesti√≥n de pel√≠culas

- **CRUD **completo de pel√≠culas accesible para usuarios.
- **Atributos**: t√≠tulo, sinopsis, a√±o, duraci√≥n y car√°tula (almacenada en local).
- ** Asociaci√≥n de profesionales del cine** (actores, m√∫sicos, fot√≥grafos, guionistas, directores) a cada pel√≠cula.
- **Visualizaci√≥n de ficha t√©cnica de cada film** con reparto, equipo y cr√≠ticas/puntuaciones.


---

### üßë‚Äçüíº Sistema de autenticaci√≥n y autorizaci√≥n

- Inicio de sesi√≥n y registro con **tokens JWT**.
- Seguridad implementada con **Spring Security**.
- Dos roles:
  - `USER`: puede puntuar y comentar pel√≠culas.
  - `ADMIN`: acceso completo al sistema, tambi√©n la creaci√≥n de nuevos administradores.

---

### üåê API REST con Seguridad JWT

- ** Endpoints protegidos** con token JWT (`/auth/**`, `/api/**`).
- **Registro y login** v√≠a JSON.
-** Endpoints REST **para crear y listar cr√≠ticas de pel√≠culas.

---

### üí¨ Sistema de reviews y puntuaciones

- Cada usuario puede dejar **una √∫nica cr√≠tica y puntuaci√≥n** por pel√≠cula.
- **Cr√≠ticas gestionadas mediante API REST **y mostradas en la web.
- **Promedio de puntuaciones** calculado y visible para cada pel√≠cula.
- ** Validaci√≥n** que impide duplicados y genera errores personalizados (`@ExceptionHandler`).

---

### üñ•Ô∏è Interfaz web din√°mica (MVC)

- Dise√±o responsive con **Bootstrap 5.1.3** y plantillas **Thymeleaf**.
- **Vistas protegidas** por rol mediante `sec:authorize`.
- **Navegaci√≥n**: inicio, login, registro, pel√≠culas, nueva pel√≠cula, crear persona, etc.
- **Carga y visualizaci√≥n de im√°genes** (car√°tulas y avatares) desde almacenamiento local.

---

### üîê Configuraci√≥n t√©cnica y seguridad

- ** Filtros personalizados** con `JwtValidator` para validar tokens en cada petici√≥n.
- `SecurityFilterChain` segmentado por contexto (`/auth`, `/api`, `/admin`...).
- **Encriptaci√≥n** de contrase√±as con `BCryptPasswordEncoder`.
- **Logs personalizados** para trazabilidad y depuraci√≥n.

---

### üìñ Documentaci√≥n interactiva con Swagger

- **Documentaci√≥n generada autom√°ticamente** con **OpenAPI**.
- **Panel Swagger UI** para probar los endpoints y ver los modelos de datos.

üîó **Acceso a Swagger UI**: [http://localhost:8080/doc/swagger-ui.html](http://localhost:8080/doc/swagger-ui.html)

---


## 3. Tecnolog√≠as y dependencias

- Java 17
- Spring Boot 3
- Spring Security + JWT
- Spring Data JPA + Hibernate
- Spring MVC + Thymeleaf
- Spring Batch
- H2 (dev) / MySQL (producci√≥n)
- Swagger / OpenAPI
- Bootstrap 5.1.3
- ModelMapper
- Lombok

### üìÇ Estructura del proyecto

```plaintext
filmfeel/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/com/filmfeel/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FilmFeelApplication.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ application.properties
‚îî‚îÄ‚îÄ pom.xml
```

---

## 4. üîó  Endpoints principales

üé• **Pel√≠culas** (`/peliculas`)

| M√©todo | Ruta                              | Descripci√≥n                                 |
|--------|-----------------------------------|---------------------------------------------|
| GET    | `/peliculas`                      | Lista las pel√≠culas (vista paginada)        |
| GET    | `/peliculas/nueva-pelicula`       | Formulario para crear pel√≠cula     |
| POST   | `/peliculas/nueva-pelicula`       | Guardar pel√≠cula nueva                      |
| GET    | `/peliculas/{id}`                 | Detalle de pel√≠cula                         |
| GET    | `/peliculas/{id}/editar`          | Formulario de edici√≥n de pel√≠cula           |
| POST   | `/peliculas/{id}/editar`          | Guardar cambios de pel√≠cula                 |
| POST   | `/peliculas/{id}/eliminar`        | Eliminar pel√≠cula                           |

üë§ **Personas** (`/personas`)

| M√©todo | Ruta                            | Descripci√≥n                          |
|--------|---------------------------------|--------------------------------------|
| GET    | `/personas`                     | Listado de personas                  |
| GET    | `/personas/nueva-persona`       | Formulario para nueva persona        |
| POST   | `/personas/nueva-persona`       | Guardar nueva persona                |
| POST   | `/personas/{id}`                | Eliminar persona por ID              |

üí¨ **Rese√±as** (`/reviews`)

| M√©todo | Ruta                            | Descripci√≥n                     |
|--------|---------------------------------|---------------------------------|
| POST   | `/reviews/submit/{filmId}`      | Enviar rese√±a de pel√≠cula       |
| POST   | `/reviews/{id}`                 | Eliminar rese√±a                 |

‚≠ê **Puntuaciones** (`/scores`)

| M√©todo | Ruta                              | Descripci√≥n                         |
|--------|-----------------------------------|-------------------------------------|
| POST   | `/scores/submit/{filmId}`         | Enviar puntuaci√≥n                   |
| GET    | `/scores/average/{filmId}`        | Obtener media de puntuaciones       |
| POST   | `/scores/{id}`                    | Eliminar puntuaci√≥n                 |

üîê **Autenticaci√≥n**

| M√©todo | Ruta              | Descripci√≥n                          |
|--------|-------------------|--------------------------------------|
| GET    | `/login`          | Formulario de inicio de sesi√≥n       |
| GET    | `/registro`       | Formulario de registro de usuario    |
| POST   | `/registro`       | Enviar datos de nuevo usuario        |



## 5. üß© Pendiente de implementaci√≥n

La aplicaci√≥n se encuentra en desarrollo activo y a√∫n hay funcionalidades clave por implementar como:

- üîÅ ** Spring Batch**  
  Migraci√≥n diaria de nuevas pel√≠culas a un CSV, con listeners (`JobExecutionListener`, `ItemWriteListener`) y marca de migraci√≥n.

- üìä **Sistema de logs detallado**  
  Trazas de ejecuci√≥n para monitorizar procesos clave.

- ‚ùó ** Mejora de la p√°gina personalizada de errores**  
  Integraci√≥n de `error.html` para manejo elegante de excepciones (404, 500...).

- ‚ö° **Mejoras visuales y de rendimiento**  
  Optimizaci√≥n de vistas, im√°genes y rendimiento general.



## 6. üöÄ Instalaci√≥n y ejecuci√≥n

1. Clona el repositorio desde GitHub:
```bash
git clone https://github.com/AleNaveira/filmfeel-web.git
```

2. Abre el proyecto en el IDE (como IntelliJ o Eclipse).

3. Ejecuta la clase `FilmFeelApplication.java`

4. Accede a la app en: 
   `http://localhost:8080`

## 7. üõ°Ô∏è Buenas pr√°cticas aplicadas

- Separaci√≥n por capas: controladores, servicios, repositorios y entidades.
- Validaciones de datos en formularios y DTOs (`@Valid`, `BindingResult`).
- Manejo seguro de contrase√±as con `BCryptPasswordEncoder`.
- Control de acceso basado en roles (USER y ADMIN) usando Spring Security y JWT.
- Gesti√≥n segura de rutas protegidas en vistas Thymeleaf con `sec:authorize`.
- Documentaci√≥n de API REST interactiva con Swagger/OpenAPI.
- Gesti√≥n de errores y validaciones personalizadas mediante `@ExceptionHandler`.
- Almacenamiento seguro y din√°mico de archivos (im√°genes) en servidor local.
- Uso de DTOs y ModelMapper para separar entidades de la capa de presentaci√≥n.
- Pr√°cticas de arquitectura RESTful en endpoints de la API.
- Configuraci√≥n de `application.properties` organizada y adaptada a distintos entornos.
- Preparaci√≥n para uso de bases de datos en producci√≥n (MySQL).


